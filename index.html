<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
    <title>NYT Search</title>
   
</head>
<body>

     
    <!-- Main Bootstrap Search -->
    <div class="container">
  
        <!-- Jumbotron for Title -->
        <div class="jumbotron" style="background-color: #20315A ; color: white;">
          <h1 class="text-center"><strong><i class="fa fa-newspaper-o"></i> New York Times Search</strong></h1>
        </div>
    
        
        <div class="row">
          <div class="col-sm-12">
            <br>
            <!-- First panel is for handling the search parameters -->
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title"><strong><i class="fa  fa-list-alt"></i>   Search Parameters</strong></h3>
              </div>
              <div class="panel-body">
    
                <!-- Here we create an HTML Form for handling the inputs-->
                <form role="form">
    
                  <!-- Here we create the text box for capturing the search term-->
                  <div class="form-group">
                    <label for="search">Search Term:</label>
                    <input type="text" class="form-control" id="search-term">
                  </div>
    
                  <!-- Here we capture the number of records that the user wants to retrieve  -->
                  <div class="form-group">
                    <label for="pwd">Number of Records to Retrieve:</label>
                    <select class="form-control" id="num-records-select">
                                <option value="1">1</option>
                                <option value="5" selected="">5</option>
                                <option value="10">10</option>
                            </select>
                  </div>
    
                  
                  <div class="form-group">
                    <label for="start-year">Start Year (Optional):</label>
                    <input type="text" class="form-control" id="start-year">
                  </div>
    
                  
                  <div class="form-group">
                    <label for="end-year">End Year (Optional):</label>
                    <input type="text" class="form-control" id="end-year">
                  </div>
    
                  <!-- Here we have our final submit button -->
                  <button type="submit" class="btn btn-default" id="run-search"><i class="fa fa-search"></i> Search</button>
                  <button type="button" class="btn btn-default" id="clear-all"><i class="fa fa-trash"></i> Clear Results</button>
    
                </form>
              </div>
            </div>
          </div>
        </div>
    
        <!-- This row will handle all of the retrieved articles -->
        <div class="row">
          <div class="col-sm-12">
            <br>
    
            <!-- This panel will initially be made up of a panel and wells for each of the articles retrieved -->
            <div class="panel panel-primary">
    
              
              <div class="panel-heading">
                <h3 class="panel-title"><strong><i class="fa fa-table"></i>   Top Articles</strong></h3>
              </div>
    
              
              <div class="panel-body" id="well-section">
              </div>
            </div>
          </div>
        </div>
    
        <!-- Footer Region -->
        <div class="row">
          <div class="col-sm-12">
    
            <!-- Line Break followed by closing -->
            <hr>
            <h5 class="text-center"><small>Made by Team Garrett<i class="fa fa-heart"></i></small></h5>
    
          </div>
        </div>
    
      </div>
        
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
</body>
    <script>
        
    // use the article search api to look up articles by keyword, refine your search using filters and facets
    // this is what gives us the info after the URL: /articlesearch.json?q={query}&fq={filter}
    // this is an example of a full call with the URL:-
    //- https://api.nytimes.com/svc/search/v2/articlesearch.json?q=election&api-key=yourkey
    // below is how you will filter your search:
    //
    // our API key n8xLpEukj4EQb8z6k8jUxwAp3L9xE2SN
   // Create the AJAX call needed to retrieve data then console.log all of the relevant fields.
    // 


    
    $("#run-search").on("click", function(event) {
        event.preventDefault();
        

// this is the address at which you'll find the information you're looking for and you put your api key-
//- in it. 
var queryURL = "https://api.nytimes.com/svc/search/v2/articlesearch.json?fq=poop&api-key=n8xLpEukj4EQb8z6k8jUxwAp3L9xE2SN";
console.log(queryURL);
//these are two arguments needed for ajax to go and retrieve something for you, it needs a place to go-
//-and a method of what its doing. getting a single image using the above url. gets one things at a time

//NOW INSTEAD OF POOP I NEED MY QUERYURL TO SEARCH FOR THE USER'S INPUTS

$.ajax({
  url: queryURL,
  method: "GET"
  
})
 
// // this function lays out the details of how you want to handle the response from the server, or when we get the info-
// // -back from the server
  .then(function(response) {


    var articleURL = response.data;

    
    var searchResult = $("<p>");

    
    searchResult.attr("src", articleURL);

   
    $("#testParagraph").prepend(searchResult);
  });
});
    
    </script>

</html>